<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>🎂</title>
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Bootstrap JS (needs Popper too) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<style>
    body {
        font-family: "Courier New", Courier, monospace;
        max-width: 400px;
        margin: 20px auto;
        padding: 20px;
        width: 100%;
        box-sizing: border-box;
    }
    .section {
        border-top: 2px dashed #000;
        margin-top: 1rem;
        padding-top: 1rem;
    }
    .dashed-bottom {
        border-bottom: 2px dashed #000;
        padding-bottom: 1rem;
        margin-bottom: 1rem;
    }
    p{
        margin: 0;
    }

    /* Centered text with dash */
    .section-divider {
        display: flex;
        align-items: center;
        text-align: center;
    }
    .section-divider::before,
    .section-divider::after {
        content: '';
        flex: 1;
        border-top: 2px dashed #000;
        font-weight: bold;
    }
    .section-divider::before {
        margin-right: 0.75em;
    }
    .section-divider::after {
        margin-left: 0.75em;
    }
    .section-divider span {
        font-weight: bold;
    }

    /* Love Bubble Animation */
    .love-bubble {
        position: fixed;
        bottom: 0;
        font-size: 24px;
        animation: floatUp 3s ease-out forwards;
        pointer-events: none;
        z-index: 9999;
    }
    @keyframes floatUp {
        0% {
            transform: translateY(0) scale(1);
            opacity: 1;
        }
        100% {
            transform: translateY(-100vh) scale(1.5);
            opacity: 0;
        }
    }

    /* Modal Styles */
    .modal {
        display: none; 
        position: fixed; 
        z-index: 1000; 
        left: 0;
        top: 0;
        width: 100%; 
        height: 100%; 
        background-color: rgba(0,0,0,0.5);
        font-family: "Times New Roman", Calibri, sans-serif;
    }

    .modal-content {
        background-color: #fff;
        margin: 15% auto;
        padding: 20px;
        border-radius: 12px;
        width: 90%;
        max-width: 400px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    }

    /* Voucher Styles */
    .modal-overlay {
        font-family: 'Segoe UI', sans-serif;
        background: #f0f0f5;
        padding: 40px;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.6);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }

    .voucher {
        background: #fff8dc;
        border: 3px dashed #d4af37;
        padding: 30px;
        border-radius: 12px;
        width: 90%;
        max-width: 500px;
        position: relative;
        box-shadow: 0 8px 20px rgba(0,0,0,0.25);
        animation: fadeInUp 0.4s ease;
    }

    .voucher h1 {
        text-align: center;
        font-size: 2.2em;
        color: #b8860b;
        margin-bottom: 10px;
    }

    .amount {
        font-size: 1.8em;
        text-align: center;
        color: #333;
        margin: 20px 0;
    }

    .details {
        text-align: center;
        font-size: 1.1em;
        margin-bottom: 20px;
        color: #555;
    }

    .code {
        display: block;
        background: #b8860b;
        color: white;
        padding: 10px;
        text-align: center;
        font-weight: bold;
        letter-spacing: 2px;
        border-radius: 8px;
        margin: 0 auto 20px;
        width: fit-content;
    }

    .footer {
        text-align: center;
        font-size: 0.9em;
        color: #777;
    }

    .close-btn {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 24px;
        background: none;
        border: none;
        cursor: pointer;
        color: #333;
    }

    @keyframes fadeInUp {
        from {
            transform: translateY(30px);
            opacity: 0;
        }
        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    /* Coupon Style */
    .close {
        float: right;
        font-size: 22px;
        font-weight: bold;
        cursor: pointer;
    }
    .btn {
        padding: 10px 15px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }
    .btn:hover {
        background: #45a049;
    }
</style>

<script>
    popBirthdayCakes();
    function popBirthdayCakes() {
        for (let i = 0; i < 25; i++) {
            setTimeout(() => {
                const bubble = document.createElement("div");
                bubble.className = "love-bubble";
                bubble.innerText = ["🎂", "🍰", "🥳", "🎉", "🎊"][Math.floor(Math.random() * 5)];
                bubble.style.left = Math.random() * 100 + "vw";
                bubble.style.fontSize = (Math.random() * 20 + 20) + "px";
                document.body.appendChild(bubble);

                setTimeout(() => bubble.remove(), 3000);
            }, i * 100);
        }
    }

    function popLoveBubbles() {
        for (let i = 0; i < 20; i++) {
            setTimeout(() => {
                const bubble = document.createElement("div");
                bubble.className = "love-bubble";
                bubble.innerText = ["💖", "💘", "💞", "💕", "❤️"][Math.floor(Math.random() * 5)];
                bubble.style.left = Math.random() * 100 + "vw";
                bubble.style.fontSize = (Math.random() * 20 + 20) + "px";
                document.body.appendChild(bubble);

                setTimeout(() => bubble.remove(), 3000);
            }, i * 100);
        }
    }

    function randomBrunch() {
        const options = [
            '🍟 McDonald\'s', 
            '👨🏿‍🍳 Mamak',
            '🍜 Sarawak Mee',
            '🍜 Curry Mee'
        ];
        const pick = options[Math.floor(Math.random() * options.length)];
        document.getElementById('result').textContent = pick;
        document.getElementById('myModal').style.display = 'block';
    }
    function closeModal() {
        document.getElementById('myModal').style.display = 'none';
    }

    function openDinner() {
        document.getElementById('voucherModal').style.display = 'flex';
    }
    function closeDinner() {
        document.getElementById('voucherModal').style.display = 'none';
    }

    window.onload = function () {
        document.getElementById('couponForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const code = document.getElementById('couponCode').value.trim().toUpperCase();
            const result = document.getElementById('resultMsg');

            // Simulated correct answer
            const correctCode = 'ILOVEYOU';

            if (code === correctCode) {
                result.style.color = 'green';
                result.textContent = '🎁 Coupon redeemed successfully!';
            } else {
                result.style.color = 'red';
                result.textContent = '❌ Invalid coupon code.';
            }
        });
    };
    function openGift() {
        document.getElementById('couponModal').style.display = 'block';
        document.getElementById('couponCode').value = '';
        document.getElementById('resultMsg').textContent = '';
        document.getElementById('couponCode').focus();
    }
    function closeGift() {
        document.getElementById('couponModal').style.display = 'none';
    }
</script>    
    
</head>
<body>
    <div class="text-center mb-3 dashed-bottom">
        <img src="../img/PandaLuvPig.png" alt="PandaLuvPig" class="img-fluid" style="max-width:150px;height:auto;">
    </div>

    <div class="text-center">
        <h4 style="font-weight: bold; margin: 0;">08.21</h4>
        <p>魏先生的生日配套</p>
        <small>备注：幸而有你，余生可期</small>
    </div>
    
    <div class="section">
        <p><strong>下单时间：</strong>2025.08.21 05:20</p>
        <p><strong>订单编号：</strong>202508211314520</p>
    </div>
    
    <div class="section-divider my-3"><span>商品</span></div>
    <table class="table table-borderless table-sm">
        <thead>
            <tr>
                <th>名称</th>
                <th class="text-end">数量</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><span style="cursor: pointer;" onclick="randomBrunch()">早午餐 👈</span></td>
                <td class="text-end">1</td>
            </tr>
            <tr>
                <td><span style="cursor: pointer;" onclick="openGift()">礼物 👈</span></td>
                <td class="text-end">1</td>
            </tr>
            <tr>
                <td><span style="cursor: pointer;" onclick="openDinner()">晚餐 - Wagyu 👈</span></td>
                <td class="text-end">1</td>
            </tr>
            <tr>
                <td><span style="cursor: pointer;" onclick="popLoveBubbles()">对你的爱 👈</span></td>
                <td class="text-end">超级加倍, 520</td>
            </tr>
        </tbody>
    </table>
    
    <div class="section-divider my-3"><span>优惠</span></div>
    <p><strong>折扣：</strong>FOREVERLOVE</p>
    <p><strong>实付：</strong>真爱无价</p>
    <p><strong>配料需求：</strong>爱加倍</p>
    
    <div class="section-divider my-3"><span>配送</span></div>
    <p><strong>配送地址：</strong>叮咚！我的爱意请查收！</p>
    <p><strong>配送人：</strong>倾国倾城温婉动人的彭小姐！</p>
    <p><strong>收货人：</strong>英俊潇洒值得信赖的魏先生！</p>

    <div class="section-divider my-3"><span>LOVE YOU</span></div>
    <p class="text-center mb-1">ლ ( ◕³◕ ) ლ 魏先生，生日快乐</p>
    <div class="text-center">
        <img src="../img/counter.png" alt="Counter" class="img-fluid" style="max-width:250px;height:auto;">
    </div>
    
    <div id="myModal" class="modal">
        <div class="modal-content">
            <p id="result" class="text-center"></p>
            <button class="btn btn-primary mt-2" onclick="closeModal()">Let's Go 🚗💨</button>
        </div>
    </div>

    <div id="couponModal" class="modal">
        <div class="modal-content">
            <div class="d-flex justify-content-end">
                <button type="button" class="btn-close" aria-label="Close" onclick="closeGift()"></button>
            </div>              
            <h2 class="mb-3">Redeem Your Present</h2>
            <form id="couponForm">
                <div class="form-floating">
                    <input type="text" class="form-control" id="couponCode" name="couponCode" required>
                    <label for="couponCode">请输入 8 个字母表达你对我的爱意 💌</label>
                </div>
                <div id="resultMsg" class="text-center mt-2"></div>
                <button type="submit" class="btn btn-success w-100 mt-3">Redeem</button>
            </form>
        </div>
    </div>    

    <div id="voucherModal" class="modal-overlay">
        <div class="voucher">
            <button class="close-btn" onclick="closeDinner()">×</button>
            <h1>Gift Voucher</h1>
            <div class="amount">Jyu Jyu Yakiniku @ The Gardens</div>
            <div class="details">Use this voucher to enjoy a FREE dinner.</div>
            <span class="code">FREE Dinner</span>
            <div class="footer">Valid until 21 Aug 2025 • One use per customer • T&C apply</div>
        </div>
    </div>
</body>
</html>
